!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="21ec7c0f-d578-45ba-a623-be76e876feb4",e._sentryDebugIdIdentifier="sentry-dbid-21ec7c0f-d578-45ba-a623-be76e876feb4")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8607],{41988:function(e,r,t){"use strict";t.d(r,{G:function(){return useLoginWithThirdPartyServiceMutation}});var n=t(19278),o=t(61439),a=t(74596),i=t(62551);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let s={},l=a.Ps`
  mutation loginWithThirdPartyService($input: LoginWithThirdPartyServiceInput!) {
    loginWithThirdPartyService(input: $input) {
      error {
        ...Error
      }
    }
  }
  ${i.vN}
`;function useLoginWithThirdPartyServiceMutation(e){let r=_objectSpread(_objectSpread({},s),e);return o.D(l,r)}},8607:function(e,r,t){"use strict";let n,o;t.r(r),t.d(r,{AuthContainer:function(){return AuthContainer},PANEL_WIDTH:function(){return e3},default:function(){return re}});var a,i,s=t(19278),l=t(92251),c=t(34736),d=t.n(c),u=t(61400),p=t(50959),f=t(52607),b=t(20963),g=t(47355),m=t(4814),y=t(56869),j=t(50542),O=t(10175),v=t(87720),_=t(36122),h=t(80417),E=t(11298),S=t(91798),R=t(53933),P=t(53748),w=t(49516),I=t(33355),C=t(54805),x=t(24278),Z=t(79161),k=t(47971),N=t(3619),D=t(49971),L=t(41988),A=t(4267),T=t(43114),F=t(31687),M=t(89379),K=t(80960),U=t(92618),V=t(83804),G=t(91857),B=t(95904),q=t(17089),W=t(11527);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}(a=n||(n={}))[a.SUCCESS=1]="SUCCESS",a[a.ERROR=0]="ERROR",a[a.NO_TIE=-1]="NO_TIE";var hooks_useFacebook=()=>{let{refetch:e}=(0,T.Z)("cache-first",!0),{sendNotification:r}=(0,w.ZP)(),[t,{error:o,loading:a}]=(0,L.G)(),i=(0,p.useCallback)(async r=>{try{var o,a,i;let s=await t({variables:{input:{token:r,refreshToken:null,service:A.FR.Facebook,grantType:A.eW.AccessToken}},context:{headers:{[F.eX]:null===(o=(0,F.pc)())||void 0===o?void 0:o.token,[M.G]:(0,M.V)()},uri:U.M}}),l=null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.loginWithThirdPartyService;if((null==l?void 0:null===(i=l.error)||void 0===i?void 0:i.code)===q.Rb)return(0,K.q)(B.Mk.NO_TIE_ERROR),(0,B.bF)(B.Mk.NO_TIE_ERROR),n.NO_TIE;if((0,V.gC)(l))return e(),(0,K.q)(B.Mk.FACEBOOK_SUCCESS),(0,B.bF)(B.Mk.FACEBOOK_SUCCESS),n.SUCCESS;return(0,K.q)(B.Mk.FACEBOOK_FAILURE),(0,B.bF)(B.Mk.FACEBOOK_FAILURE),n.ERROR}catch(e){return(0,K.q)(B.Mk.FACEBOOK_FAILURE),(0,B.bF)(B.Mk.FACEBOOK_FAILURE),n.ERROR}},[t,e]);return(0,p.useEffect)(()=>{o&&r((0,W.jsx)(h.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},G.Z.loginError)),{type:w.Dy.ERROR,autoClose:!0})},[o,r]),{loading:a,facebookLogin:i}},H=t(53274),$=t.n(H),z=t(22922),Y=t.n(z),Q=t(76185),X=t(74596),J=t(10601);function requireCaptcha_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function requireCaptcha_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?requireCaptcha_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):requireCaptcha_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let ee={},er=X.Ps`
  query requireCaptcha($captchaType: CaptchaType) {
    requireCaptcha(captchaType: $captchaType) {
      requireCaptcha
      error {
        ...Error
      }
    }
  }
  ${J.vN}
`;var et=t(14224);let en=["resetHash"];function Captcha_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function Captcha_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Captcha_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Captcha_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let{RECAPTCHA_V2_KEY:eo="6LcA8EUUAAAAAG17qfEfNaX6H8ozmI-IvmokZUnZ"}=et.env,useCaptcha=function(e){var r,t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{data:o,error:a}=function(e){let r=requireCaptcha_generated_objectSpread(requireCaptcha_generated_objectSpread({},ee),e);return Q.a(er,r)}({variables:{captchaType:e},skip:n}),i=!!(null!=o&&null!==(r=o.requireCaptcha)&&void 0!==r&&r.requireCaptcha)||!!a||!!(null!=o&&null!==(t=o.requireCaptcha)&&void 0!==t&&t.error);return{needsCaptcha:i}},useCaptchaReset=()=>{let{0:e,1:r}=(0,p.useState)(void 0),t=(0,p.useCallback)(()=>{r((e||0)+1)},[e]);return[e,t]};var ea=(0,p.memo)(e=>{let{resetHash:r}=e,t=(0,O.Z)(e,en),{0:n,1:o}=(0,p.useState)(),{submitCount:a}=(0,v.u6)(),[,{error:i},{setValue:s}]=(0,v.U$)("captcha"),l=a>0&&i,c=(0,p.useRef)(null);return(0,p.useEffect)(()=>{if(!c.current)return;let e=$()("recatchaOncallback");return window[e]=()=>{try{grecaptcha.render(c.current,{sitekey:eo,callback:e=>{s(e)},"expired-callback":()=>{s(void 0)},"error-callback":()=>{s(void 0)}})}catch(e){}},o(e),()=>{window[e]=void 0}},[]),(0,p.useEffect)(()=>{if(r)try{s(void 0),grecaptcha.reset()}catch(e){}},[r]),(0,W.jsxs)("div",Captcha_objectSpread(Captcha_objectSpread({},t),{},{children:[n&&(0,W.jsx)(Y(),{src:`https://www.google.com/recaptcha/api.js?onload=${n}&render=explicit`}),(0,W.jsxs)("div",{className:(0,m.Z)("w-full overflow-hidden","dljoyr2"),children:[(0,W.jsx)("div",{ref:c}),l&&(0,W.jsx)("div",{className:"mt-1 text-sm text-alertRed",children:(0,W.jsx)(h.Z,Captcha_objectSpread({},i))})]})]}))});t(37807);var ei=t(78818);let es=["title","description","handler","footer","className"];function EmailNotificationIcon_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function EmailNotificationIcon_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?EmailNotificationIcon_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):EmailNotificationIcon_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var EmailNotificationIcon=e=>{let{title:r,description:t,handler:n,footer:o,className:a}=e,i=(0,O.Z)(e,es);return(0,W.jsxs)("div",EmailNotificationIcon_objectSpread(EmailNotificationIcon_objectSpread({},i),{},{className:(0,m.Z)(a,"flex flex-col items-center pt-8"),children:[(0,W.jsx)(ei.Z,{alt:"",role:"presentation",src:"/images/login/letter.svg",width:"120",height:"120"}),(0,W.jsx)("h1",{className:"ds-font-title-2 mb-2 mt-10 font-semibold",children:r}),(0,W.jsx)("div",{className:"mb-9 text-center",children:t}),n,(0,W.jsx)("div",{className:"ds-font-tiny text-center text-gray6",children:o})]}))},el=t(88257),RegisterPanel_PanelBg=()=>(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("svg",{className:"absolute left-0 top-0",width:"119",height:"164",viewBox:"0 0 119 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,W.jsx)("path",{d:"M110.828 64.5715C101.08 79.2181 80.6995 88.0884 67.5824 96.1073C54.4151 104.318 48.6319 111.606 41.0813 120.581C33.4603 129.434 24.3129 139.832 9.61932 149.588C-5.02416 159.151 -25.2843 167.951 -36.8417 161.418C-48.3991 154.886 -51.3743 133.091 -50.9515 115.473C-50.5287 97.8547 -46.6375 84.533 -50.5238 68.9552C-54.2191 53.4277 -65.6216 35.7651 -63.9307 22.2731C-62.1193 8.71038 -47.2849 -0.802786 -32.0859 -4.68559C-16.8165 -8.44734 -1.25282 -6.69978 17.5823 -12.3907C36.2264 -18.132 58.3329 -31.2614 75.7556 -28.8186C93.2284 -26.5675 106.279 -8.57278 113.211 10.5755C119.953 29.6734 120.767 49.9753 110.828 64.5715Z",fill:"#97CAD1",fillOpacity:"0.1"})}),(0,W.jsx)("svg",{className:"absolute bottom-8 right-0",width:"91",height:"180",viewBox:"0 0 91 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,W.jsx)("path",{d:"M31.107 139.602C20.1459 122.471 5.63877 107.706 1.47524 89.707C-2.68829 71.7083 3.60187 50.5323 18.4541 39.4806C33.1962 28.3731 56.4501 27.2159 73.5743 25.334C90.5286 23.5146 101.413 20.8522 114.992 14.5031C128.68 8.20975 145.014 -1.94425 157.075 0.444413C169.135 2.83308 176.924 17.7644 182.153 32.2917C187.491 46.8747 190.44 60.9911 187.448 73.7358C184.515 86.3623 175.642 97.617 169.461 110.382C163.279 123.147 159.789 137.422 151.192 145.4C142.764 153.315 129.179 154.76 112.602 162.117C95.9148 169.419 76.1862 182.459 62.6946 179.347C49.203 176.234 41.8981 156.795 31.107 139.602Z",fill:"#FFAD43",fillOpacity:"0.1"})}),(0,W.jsx)("svg",{className:"absolute bottom-24 right-0",width:"20",height:"208",viewBox:"0 0 20 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,W.jsx)("path",{d:"M20.5684 161.408C12.928 141.862 1.19431 125.051 0.648726 104.462C0.103153 83.8722 10.8462 59.5676 28.2254 46.7997C45.5039 33.9689 69.4031 32.4757 87.2136 30.1965C104.838 27.9902 116.46 24.8618 131.579 17.4905C146.798 10.1822 165.5 -1.56785 177.283 1.08179C189.066 3.73141 193.929 20.7808 196.27 37.3857C198.712 54.0536 198.817 70.2042 193.159 84.8261C187.586 99.3121 176.249 112.269 167.341 126.938C158.434 141.606 151.955 157.984 141.571 167.186C131.372 176.315 117.252 178.067 98.8756 186.615C80.3986 195.1 57.6497 210.181 44.5597 206.712C31.4697 203.244 28.0231 181.027 20.5684 161.408Z",fill:"#F65858",fillOpacity:"0.1"})})]}),shared_ValidationAnnouncer=()=>{let{formatMessage:e}=(0,_.Z)(),{submitCount:r,errors:t,isValid:n}=(0,v.u6)(),{makeAnnouncement:o}=(0,P.Z)(),{0:a,1:i}=(0,p.useState)(r);return(0,p.useEffect)(()=>{var s;let l=null===(s=Object.keys(t))||void 0===s?void 0:s.length;r>0&&l>0&&!n&&r!==a&&(i(r),o(e(G.Z.a11yValidationsError,{COUNT:l})))},[r,t,n,a,e,o]),null};let ec=["children","dataEventCategory","a11yDescription","hasBackButton","backButtonAriaLabel","backButtonOnClick","isModal","showBg","isRegister"];function PanelLayout_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function PanelLayout_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?PanelLayout_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):PanelLayout_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var shared_PanelLayout=e=>{let{children:r,dataEventCategory:t,a11yDescription:n,hasBackButton:o,backButtonAriaLabel:a,backButtonOnClick:i,isModal:s,showBg:l,isRegister:c}=e,d=(0,O.Z)(e,ec);return(0,W.jsxs)("section",PanelLayout_objectSpread(PanelLayout_objectSpread({},d),{},{className:(0,m.Z)("w-full","sbdsy28",d.className),"data-event-category":t,children:[l&&(0,W.jsx)(RegisterPanel_PanelBg,{}),n&&(0,W.jsx)("span",{className:"sr-only","aria-live":"polite",children:n}),(0,W.jsx)(shared_ValidationAnnouncer,{}),o&&(0,W.jsx)("button",{"aria-label":a,onClick:i,className:(0,m.Z)("absolute top-3.5 h-6 sm:left-4 sm:top-5",s&&"left-2",!s&&c&&"left-6",!s&&!c&&"left-0"),type:"button",children:(0,W.jsx)(ei.Z,{alt:"",role:"presentation",src:"/images/design-system-icons/caret-left-outline.svg",width:"24",height:"24"})}),r]}))};t(43044);var ed=t(6784),eu=t(15065),ep=t(16375),ef=t(69886),eb=t(59725),eg=t(76193),em=t(20123),ey=t(2931),ej=t(7496);let eO=["iconSrc","asButton","disabled"];function SocialButton_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function SocialButton_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SocialButton_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SocialButton_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var shared_SocialButton=e=>{let{iconSrc:r,asButton:t,disabled:n}=e,o=(0,O.Z)(e,eO),a=t?ey.ZP:ej.Z;return(0,W.jsxs)(a,SocialButton_objectSpread(SocialButton_objectSpread({tabIndex:0,role:"button"},o),{},{className:(0,m.Z)(o.className,"flex h-13 w-full cursor-pointer flex-row items-center justify-between rounded-lg border border-gray6 pl-4 font-normal hover:no-underline xs:no-underline",n&&"border-gray3 bg-gray3 text-gray5","c1g28vq9"),children:[r&&(0,W.jsx)(ei.Z,{alt:"",role:"presentation",src:r,width:"24",height:"24"}),o.children,(0,W.jsx)("i",{})]}))};t(53921);let ev=["onFacebookLogin","onFacebookRegister","returnUrl","onEmailRegister","isRegister","extraParams","hideFacebook"];function SocialSection_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function SocialSection_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SocialSection_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SocialSection_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var shared_SocialSection=e=>{let{onFacebookLogin:r,onFacebookRegister:t,returnUrl:n,onEmailRegister:o,isRegister:a,extraParams:i,hideFacebook:s}=e,l=(0,O.Z)(e,ev),{locale:c}=(0,eu.M)(),d=(0,em.tZ)(n,c,i),u=a||!1,f=u?d:n,b=(0,p.useCallback)(()=>{(0,j.mjF)((0,ep.Ht)(f,a))},[f,a]),{getToken:g,fbProgress:y}=(0,eb.Z)(a?t:r,b),addProvider=(e,r)=>{if(a)return e;try{let t=new URL(e);return t.searchParams.append("loginProvider",r),t.toString()}catch(r){return e}},{sendNotification:v}=(0,w.ZP)(),{0:_,1:E}=(0,p.useState)(!1);return(0,p.useLayoutEffect)(()=>{E((0,ef.j9)())},[]),(0,W.jsxs)("div",SocialSection_objectSpread(SocialSection_objectSpread({},l),{},{className:(0,m.Z)("flex w-full flex-col items-center space-y-4",l.className),children:[!s&&(0,W.jsx)(shared_SocialButton,{id:a?"facebook-register":"facebook-login","data-testid":a?"facebook-register":"facebook-login",onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),g())},href:(0,ep.Ht)(addProvider(f,"facebook"),u),disabled:y,"data-element-name":a?B.zn.registerFacebook:B.Nh.loginFacebook,iconSrc:"/images/login/facebook.svg","data-event-label":a?"register-with-facebook-option":"login-with-facebook",children:(0,W.jsx)(h.Z,SocialSection_objectSpread({},a?eg.Z.facebookBtn:G.Z.facebookBtn))}),(0,W.jsx)(shared_SocialButton,{id:a?"google-register":"google-login","data-testid":a?"google-register":"google-login",onClick:e=>{_&&(e.preventDefault(),(0,B.bF)(B.Mk.WEB_VIEW_ERROR),v((0,W.jsx)(h.Z,SocialSection_objectSpread(SocialSection_objectSpread({},G.Z.googleSignInAlert),{},{values:{LINK:(0,W.jsx)("a",{className:"underline",target:"_blank",rel:"noreferrer",href:(0,j.AUq)(c),children:(0,W.jsx)(h.Z,SocialSection_objectSpread({},G.Z.googleSignInAlertLink))})}})),{id:"google-alert",type:w.Dy.WARNING}))},disabled:!!_,href:(0,ep.qJ)(addProvider(f,"google"),u),"data-element-name":a?B.zn.registerGoogle:B.Nh.loginGoogle,iconSrc:"/images/login/google.svg","data-event-label":a?"register-with-google-option":"login-with-google",children:(0,W.jsx)(h.Z,SocialSection_objectSpread({},a?eg.Z.googleBtn:G.Z.googleBtn))}),(0,W.jsx)(shared_SocialButton,{id:a?"apple-register":"apple-login","data-testid":a?"apple-register":"apple-login",href:(0,ep.Ws)(addProvider(f,"apple"),u),"data-element-name":a?B.zn.registerApple:B.Nh.loginApple,iconSrc:"/images/login/apple.svg","data-event-label":a?"register-with-apple-option":"login-with-apple",children:(0,W.jsx)(h.Z,SocialSection_objectSpread({},a?eg.Z.appleBtn:G.Z.appleBtn))}),a&&(0,W.jsx)("div",{className:"w-full","data-event-category":B.hf.GTM,children:(0,W.jsx)(shared_SocialButton,{asButton:!0,id:"email-register","data-testid":"email-register",onClick:o,iconSrc:"/images/login/email.svg","data-event-label":"register-with-email-option",children:(0,W.jsx)(h.Z,SocialSection_objectSpread({},eg.Z.emailBtn))})})]}))},e_=t(55423);function useValidation_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function useValidation_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useValidation_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useValidation_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let eh={email:e_.Z_().email(G.Z.validationEmailFormat).required(G.Z.validationEmailRequired),"current-password":e_.Z_().required(G.Z.validationPasswordRequire)},eE={email:e_.Z_().email(G.Z.validationEmailFormat).required(G.Z.validationEmailRequired)},eS={verificationCode:e_.Z_().required(G.Z.verificationCodeRequired)},eR={captcha:e_.Z_().required(G.Z.validationCaptchaRequired)};var LoginPanel_useValidation=(e,r)=>{let t=(0,p.useMemo)(()=>{let t=eh;return e===V.f7.FORGOT_PASSWORD&&(t=eE),e===V.f7.SIFT_VERIFICATION&&(t=eS),r&&(t=useValidation_objectSpread(useValidation_objectSpread({},t),eR)),e_.Ry().shape(t)},[e,r]);return t};let eP=["isLoading","loginHandler","forgotPasswordHandler","facebookLoginHandler","resendVerificationCodeHandler","returnUrl","checkVerificationCodeHandler","onLoginSuccess","isModal","reverifyMember","onRegisterClick","initialView","extraParams","disableBackButton"];function LoginPanel_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function LoginPanel_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LoginPanel_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LoginPanel_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var LoginPanel_LoginPanel=e=>{let{isLoading:r,loginHandler:t,forgotPasswordHandler:o,facebookLoginHandler:a,resendVerificationCodeHandler:i,returnUrl:s,checkVerificationCodeHandler:c,onLoginSuccess:d,isModal:u,reverifyMember:b,onRegisterClick:g,initialView:y=V.f7.LOGIN,extraParams:L={},disableBackButton:A}=e,T=(0,O.Z)(e,eP),{registerUrl:F}=(0,D.Z)(s,L),M=(0,_.Z)(),K=(0,E.S)(),U=(0,f.S)(),{0:q,1:H}=(0,p.useState)(y),{makeAnnouncement:$}=(0,P.Z)(),{sendNotification:z,closeNotification:Y}=(0,w.ZP)(),{0:Q,1:X}=(0,p.useState)(null),J=q===V.f7.FORGOT_PASSWORD,[ee,er]=useCaptchaReset(),{needsCaptcha:et}=useCaptcha(J?R.$I.ForgotPassword:R.$I.Login),en=LoginPanel_useValidation(q,et),eo=q===V.f7.LOGIN,ei=q===V.f7.FORGOT_PASSWORD_SUCCESS,es=q===V.f7.SIFT_VERIFICATION,ec=q===V.f7.REVERIFY_MEMBER,eu=ec||ei,ep=!eo&&!ec&&!A,ef=eo||J,eb=!es&&!ec&&!ei&&et,eg=!eu,em=(0,p.useCallback)(e=>{e.metaKey||e.ctrlKey||((0,k.ZP)({event:"gaEvent",eventCategory:B.ul.GTM,eventAction:"click",eventLabel:B.ul.RESET_BTN}),e.preventDefault(),H(V.f7.FORGOT_PASSWORD))},[]),ey=(0,p.useCallback)(async e=>{let r=await t(e),{message:n}=r;switch(n){case V.dx.LOGIN_SUCCESS:$(M.formatMessage(G.Z.loginSuccessfulAnnouncement)),null==K||K.trackUserAction({kind:I.E.LOGIN,info:{provider:"email"}}),null==U||U.track({categories:["authentication","completed"],severity:l.zb.INFO,info:{method:"email",type:"login"}}),d();break;case V.dx.SIFT_VERIFICATION_REQUIRED:H(V.f7.SIFT_VERIFICATION),X({memberId:r.memberId,reverifyToken:r.reverifyToken});break;case V.dx.REVERIFY_REQUIRED:H(V.f7.REVERIFY_MEMBER),X({memberId:r.memberId,reverifyToken:r.reverifyToken});break;default:{let e;let r=![V.dx.BLOCKED_MEMBER,V.dx.BOUNCED,V.dx.PASSWORD_RESET_REQUIRED,V.dx.INITIAL_3RD_PARTY_REG].includes(n),t=[V.dx.PASSWORD_RESET_REQUIRED,V.dx.INITIAL_3RD_PARTY_REG].includes(n)?r=>{null==em||em(r),Y(e)}:void 0;e=z((0,V.e$)(n,t),{type:w.Dy.ERROR,autoClose:r})}}},[t,d,M,$,z,Y,em,K,U]),ej=(0,p.useCallback)(async e=>{let r=await a(e);r===n.SUCCESS?($(M.formatMessage(G.Z.loginSuccessfulAnnouncement)),null==K||K.trackUserAction({kind:I.E.LOGIN,info:{provider:"facebook"}}),null==U||U.track({categories:["authentication","completed"],severity:l.zb.INFO,info:{method:"email",type:"facebook"}}),d()):z((0,W.jsx)(h.Z,LoginPanel_objectSpread({},r===n.NO_TIE?Z.Z.noTieError:Z.Z.socialLoginError)),{type:w.Dy.ERROR,autoClose:!0})},[a,M,$,d,z,K,U]),eO=(0,p.useCallback)(async(e,r)=>{let t=await o(e,r);t?H(V.f7.FORGOT_PASSWORD_SUCCESS):er()},[o,er]),ev=(0,p.useCallback)(async e=>{let r=LoginPanel_objectSpread(LoginPanel_objectSpread({},e),Q),t=await c(r);if(t.message===V.dx.CHECK_VERIFICATION_CODE_SUCCESS){X(null),null==K||K.trackUserAction({kind:I.E.LOGIN,info:{provider:"email"}}),null==U||U.track({categories:["authentication","completed"],severity:l.zb.INFO,info:{method:"email",type:"email"}}),d();return}z(M.formatMessage(t.message===V.dx.WRONG_CREDENTIALS_CODE?G.Z.verificationCodeValidationError:G.Z.verificationCodeError),{type:w.Dy.ERROR,autoClose:!0})},[Q,c,d,M,K,U,z]),e_=(0,p.useCallback)(async()=>{let e=await i(null==Q?void 0:Q.memberId);z(M.formatMessage(e?G.Z.resendVerificationCodeSuccess:G.Z.resendVerificationCodeError),{type:e?w.Dy.SUCCESS:w.Dy.ERROR,autoClose:!0})},[i,M,Q,z]),eh=(0,p.useCallback)(async()=>{let e=await b({reverifyToken:null==Q?void 0:Q.reverifyToken,memberId:null==Q?void 0:Q.memberId});z(M.formatMessage(e?G.Z.reverifyRequestEmailSuccess:G.Z.reverifyRequestEmailError),{type:e?w.Dy.SUCCESS:w.Dy.ERROR,autoClose:!0})},[b,M,Q,z]),eE=(0,p.useCallback)(async e=>{if(q===V.f7.FORGOT_PASSWORD){await eO(e.email,e.captcha);return}if(q===V.f7.SIFT_VERIFICATION){await ev(e);return}await ey(e)},[q,ey,eO,ev]),eS=M.formatMessage(G.Z.title),eR=M.formatMessage(G.Z.registrationDescription),ew=M.formatMessage(G.Z.loginBtn),eI=B.Nh.loginSubmit,eC=M.formatMessage(G.Z.loginViewStateLogin),ex="";return eo&&(ex="login-with-email"),J&&(eS=`${M.formatMessage(G.Z.forgotPassword)}?`,eR=M.formatMessage(G.Z.forgotPasswordDescription),ew=M.formatMessage(G.Z.forgotPasswordBtn),eI=B.Nh.forgotPasswordSubmit,eC=M.formatMessage(G.Z.loginViewStateForgotPassword),ex=eI),ei&&(eS=M.formatMessage(G.Z.forgotPasswordSuccess),eR=M.formatMessage(G.Z.forgotPasswordDescriptionSuccess),eC=M.formatMessage(G.Z.forgotPasswordSuccess)),es&&(eS=M.formatMessage(G.Z.siftVerificationTitle),eR=M.formatMessage(G.Z.siftVerificationDescription),ew=M.formatMessage(G.Z.verificationCodeBtn),eI=B.Nh.verifySubmit,eC=M.formatMessage(G.Z.loginViewStateVerification)),ec&&(eS=M.formatMessage(G.Z.reverifyTitle),eC=M.formatMessage(G.Z.loginViewStateEmailVerification)),(0,W.jsx)(v.J9,{initialValues:{rememberMe:!0},onSubmit:eE,validationSchema:en,children:e=>(ec&&(eR=M.formatMessage(G.Z.reverifyDescription,{userEmail:e.values.email})),(0,W.jsxs)(shared_PanelLayout,LoginPanel_objectSpread(LoginPanel_objectSpread({},T),{},{className:"flex flex-col items-center",dataEventCategory:B.Mk.GTM,a11yDescription:eC,hasBackButton:ep,backButtonAriaLabel:M.formatMessage(G.Z.loginBackButton),backButtonOnClick:()=>{H(V.f7.LOGIN),X(null),e.resetForm()},isModal:u,children:[(0,W.jsxs)(v.l0,{onSubmit:e.handleSubmit,className:(0,m.Z)("w-full",ep&&"pt-18 sm:pt-8"),children:[(0,W.jsxs)("div",{className:(0,m.Z)("flex flex-col",!eu&&"mb-1 md:mb-8",{"items-start":J,"items-center":eo}),children:[eo&&(0,W.jsx)(N.I4,{width:48,height:48,className:"mb-2"}),!eu&&(0,W.jsx)("h1",{className:"ds-font-title-2 mb-2 font-semibold",children:eS}),(0,W.jsxs)("div",{className:"flex space-x-1",children:[!eu&&(0,W.jsx)("span",{children:eR}),eo&&(0,W.jsx)("a",{className:"text-viridian hover:no-underline",onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),g())},href:F,"data-element-name":B.Nh.signUp,"data-event-label":"signup-on-login",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.registrationLink))})]})]}),(0,W.jsxs)("div",{className:(0,m.Z)("flex flex-col-reverse items-center space-y-8 md:flex-col",T.className),children:[(0,W.jsxs)("div",{className:"w-full",children:[(0,W.jsxs)("div",{className:"flex w-full flex-col space-y-6",children:[ef&&(0,W.jsx)(el.Z,{"aria-required":"true",id:"email",type:"email",name:"email","data-testid":"email",inputMode:"email",label:M.formatMessage(G.Z.emailLabel),className:(0,m.Z)("w-full",J&&"pt-4 sm:pt-0"),onChange:e.handleChange,onBlur:e.handleBlur}),eo&&(0,W.jsx)(ed.Z,{id:"current-password","data-testid":"current-password",autoComplete:"current-password",name:"current-password",label:M.formatMessage(G.Z.passwordLabel),labelChildren:(0,W.jsx)("a",{id:"forgot-password",onClick:em,href:(0,j.TtQ)(),className:"ds-font-small text-viridian hover:no-underline","data-element-name":B.Nh.forgotPassword,"data-event-label":"forgot-password-on-login",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.forgotPassword))}),onChange:e.handleChange,onBlur:e.handleBlur})]}),eb&&(0,W.jsx)(ea,{className:"mt-6 sm:pb-2",resetHash:ee}),eo&&(0,W.jsx)(C.Z,{id:"rememberMe",name:"rememberMe",className:(0,m.Z)("c1jwr8t4","ds-font-small mt-6 items-center xl:cursor-pointer"),checked:e.values.rememberMe,onChange:e.handleChange,children:(0,W.jsx)("span",{className:"mt-0.5",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.rememberMe))})}),es&&(0,W.jsx)(el.Z,{"aria-required":"true",id:"verificationCode",name:"verificationCode","data-testid":"verificationCode",label:M.formatMessage(G.Z.verificationCodeLabel),onChange:e.handleChange,onBlur:e.handleBlur,className:"mt-4"}),eg&&(0,W.jsx)(S.zx,{"data-testid":"submit",type:"submit",className:(0,m.Z)("h-12 w-full justify-center",{"mt-4":eo,"mt-6":!eo},"b1drjh0"),name:"submitButton",disabled:r,variant:S.c7.PRIMARY,"data-element-name":eI,"data-event-label":ex,children:r&&(0,W.jsx)(x.Z,{className:"mx-auto my-0"})||ew})]}),eo&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{className:"jsutify-between flex w-full flex-row items-center",children:[(0,W.jsx)("div",{className:"w-full border-b border-gray2"}),(0,W.jsx)("span",{className:"px-3 text-gray6",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.socialDivider))}),(0,W.jsx)("div",{className:"w-full border-b border-gray2"})]}),(0,W.jsx)(shared_SocialSection,{extraParams:L,returnUrl:s,onFacebookLogin:ej})]})]}),eo&&(0,W.jsx)("div",{className:"mt-8 flex justify-center",children:(0,W.jsx)("a",{href:(0,j.aVN)(),className:"ds-font-small text-viridian hover:no-underline","data-element-name":B.Nh.loginIssues,"data-event-label":"issues-with-login-on-login",target:"_blank",rel:"noreferrer",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.issuesWithLogin))})}),es&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"mt-8",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread(LoginPanel_objectSpread({},G.Z.resendVerificationCode),{},{values:{resendBtn:(0,W.jsx)("button",{className:"text-viridian",type:"button",onClick:e_,"data-testid":"resendCode","data-element-name":B.Nh.resendCode,children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.here))})}}))}),(0,W.jsx)("div",{className:"mt-2",children:(0,W.jsx)(h.Z,LoginPanel_objectSpread(LoginPanel_objectSpread({},G.Z.contactUs),{},{values:{contactLink:(0,W.jsx)("a",{href:"mailto:privacy@meetup.com",className:"text-viridian hover:no-underline","data-element-name":B.Nh.contactUs,children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},G.Z.here))})}}))})]})]}),eu&&(0,W.jsx)(EmailNotificationIcon,{title:eS,description:eR,handler:ec&&(0,W.jsx)("a",{href:"#",className:"ds-font-small mb-2 text-viridian hover:no-underline",onClick:eh,"data-element-name":B.Nh.requestEmail,children:r&&(0,W.jsx)(x.Z,{})||M.formatMessage(G.Z.reverifyCheckListStep2)})||null,footer:(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(h.Z,LoginPanel_objectSpread(LoginPanel_objectSpread({},ec?G.Z.reverifyCheckListStep3:G.Z.forgotPasswordSuccessSupport),{},{values:{link:(0,W.jsx)("a",{target:"_blank",rel:"noreferrer",href:j.Dk8,className:"text-viridian hover:no-underline","data-element-name":B.Nh.support,children:(0,W.jsx)(h.Z,LoginPanel_objectSpread({},ec?G.Z.reverifyCheckListStep3Link:G.Z.forgotPasswordSuccessSupportLink))})}}))})})]})))})};t(30882);var ew=t(62605),eI=t(66199),eC=t(16884),ex=t(8789),eZ=t(3598),ek=t(76354),eN=t(94842),eD=t(5171),eL=t(20747);let eA=["inputProps"];function Age_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function Age_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Age_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Age_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var RegisterPanel_Age=e=>{let{inputProps:r}=e,t=(0,O.Z)(e,eA),{submitCount:n}=(0,v.u6)(),[{value:o},{touched:a,error:i},{setValue:s}]=(0,v.U$)("age"),l=(n>0||a)&&i,c="age-error";return(0,W.jsxs)("div",Age_objectSpread(Age_objectSpread({},t),{},{children:[(0,W.jsx)(C.Z,Age_objectSpread(Age_objectSpread({},r),{},{id:"age",name:"age",className:(0,m.Z)("c1akf99s","ds-font-small -ml-0.5 mt-1 items-end xl:cursor-pointer"),"aria-describedby":l?c:void 0,"data-testid":"age",checked:o,onChange:e=>s(e.currentTarget.checked),children:(0,W.jsx)("span",{className:"mr-2",children:(0,W.jsx)(h.Z,Age_objectSpread({},eg.Z.ageText))})})),l&&(0,W.jsxs)("div",{id:c,className:"ds-font-tiny mt-1 text-alertRed",children:[(0,W.jsxs)("span",{className:"sr-only",children:[(0,W.jsx)(h.Z,Age_objectSpread({},G.Z.errorLabel)),"\xa0"]}),(0,W.jsx)(h.Z,Age_objectSpread({},i))]})]}))};t(79337);let eT=(0,p.memo)(e=>{let{onChange:r}=e,{values:t}=(0,v.u6)();return(0,p.useEffect)(()=>{r(null==t?void 0:t.countryCode)},[r,null==t?void 0:t.countryCode]),null});eT.displayName="DetectCountryChange";var eF=t(87373),eM=t(39992);function Location_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var RegisterPanel_Location=()=>{let{userLocation:e}=(0,eF.TH)(),[{value:r},{touched:t,error:n},{setValue:o}]=(0,v.U$)("location"),{setFieldValue:a,submitCount:i}=(0,v.u6)(),l=(i>0||t)&&n,c=(null==e?void 0:e.city)!==void 0&&(null==e?void 0:e.country)!==void 0?`${null==e?void 0:e.city}, ${null==e?void 0:e.country.toUpperCase()}`:"",setLocationValues=e=>{o(null==e?void 0:e.city),a("countryCode",null==e?void 0:e.country,!1),a("zipCode",null==e?void 0:e.zip,!1)};return(0,p.useEffect)(()=>{!r&&e&&setLocationValues(e)},[r,e]),(0,W.jsxs)("div",{children:[(0,W.jsx)(eM.Z,{locationName:c,strategy:"absolute",forcedSearchParams:{},onSelect:e=>{setLocationValues(e)},clickIdContext:"register",hasIcon:!0,inputClassName:"w-full xs:rounded-l-lg xs:rounded-r-lg border pl-11 xs:border-gray2",dropdownClassName:(0,m.Z)("sm:border-gray2 sm:px-1 sm:py-1 text-secondary w-full","sq0xflc"),itemClassName:"p-4",selectedItemClassName:"text-primary bg-gray1"}),l&&(0,W.jsx)("div",{id:"location-error",className:"ds-font-tiny mt-1 text-alertRed",children:(0,W.jsx)(h.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Location_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Location_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},n))})]})};t(1986);var eK=t(67962),eU=t(37787),eV=t(62551);function getThirdPartyRegistrantInfo_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function getThirdPartyRegistrantInfo_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?getThirdPartyRegistrantInfo_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):getThirdPartyRegistrantInfo_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let eG={},eB=X.Ps`
  query getThirdPartyRegistrantInfo($input: ThirdPartyRegistrantInfoInput!) {
    thirdPartyRegistrantInfo(input: $input) {
      email
      name
      idToken
      refreshToken
      status
      error {
        ...Error
      }
    }
  }
  ${eV.vN}
`;var eq=t(6798);(i=o||(o={}))[i.UNKNOWN=0]="UNKNOWN",i[i.NEW_USER=1]="NEW_USER",i[i.EXISTING_USER=2]="EXISTING_USER";let useSocialMemberInfo=(e,r,t)=>{var n,a;let[i,{data:s,called:l,loading:c,error:d}]=function(e){let r=getThirdPartyRegistrantInfo_generated_objectSpread(getThirdPartyRegistrantInfo_generated_objectSpread({},eG),e);return eU.t(eB,r)}({fetchPolicy:"cache-and-network",ssr:!1}),u=o.UNKNOWN;[R.Vv.ExistingAccount,R.Vv.ExistingTie].includes(null==s?void 0:null===(n=s.thirdPartyRegistrantInfo)||void 0===n?void 0:n.status)&&(u=o.EXISTING_USER),(null==s?void 0:null===(a=s.thirdPartyRegistrantInfo)||void 0===a?void 0:a.status)===R.Vv.NewRegistration&&(u=o.NEW_USER);let f=(!!e||t&&(0,eq.Jj)())&&r===em.KG.SOCIAL_FINISH&&(!l||c)&&!d||u===o.EXISTING_USER||(0,eq.Jj)()&&r===em.KG.SOCIAL_FINISH;return(0,p.useEffect)(()=>{let runQuery=async()=>{null!=e&&e.token&&i&&r===em.KG.SOCIAL_FINISH&&await i({variables:{input:{token:null==e?void 0:e.token,service:null==e?void 0:e.type,grantType:(0,q.hl)(null==e?void 0:e.type,!1)}},context:{uri:U.M}})};runQuery()},[e,r,i]),{data:s,showLoading:f,status:u}};var RegisterPanel_SocialAutofill=e=>{let{email:r,name:t}=e,{setFieldValue:n,touched:o}=(0,v.u6)();return(0,p.useEffect)(()=>{r&&!o.email&&n("email",r),t&&!o.name&&n("name",t)},[r,t,o.email,o.name]),null},eW=t(22130);let eH=["isLoading","registerHandler","socialRegisterHandler","returnUrl","onRegisterSuccess","isModal","onLoginClick","reverifyMember","initialViewState","extraParams"];function RegisterPanel_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function RegisterPanel_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?RegisterPanel_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):RegisterPanel_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let getA11yDescription=e=>{switch(e){case em.KG.EMAIL_FINISH:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerViewStateEmailRegistration));case em.KG.SOCIAL_FINISH:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerViewStatePersonal));case em.KG.ALMOST_DONE:return;case em.KG.REVERIFY_MEMBER:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerViewStateVerification));case em.KG.MAIN:default:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerViewAllyMessage))}},getErrorMessage=e=>{switch(e){case em.dK.INVALID_NAME_FORMAT:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerInvalidName));case em.dK.INVALID_ZIP:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerInvalidZip));case em.dK.INVALID_CAPTCHA:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerInvalidCaptcha));case em.dK.INVALID_PASSWORD:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.validationPasswordInvalid));case em.dK.INVALID_PASSWORD_LENGTH:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},eg.Z.validationPasswordInvalidLength),{},{values:{HELP_LINK:(0,W.jsx)("a",{href:(0,j.jjF)(),children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.helpPasswordLink))})}}));case em.dK.INVALID_PASSWORD_COMMON:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},eg.Z.validationPasswordInvalidCommon),{},{values:{HELP_LINK:(0,W.jsx)("a",{href:(0,j.jjF)(),children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.helpPasswordLink))})}}));case em.dK.INVALID_PASSWORD_PWND:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},eg.Z.validationPasswordInvalidPwnd),{},{values:{HELP_LINK:(0,W.jsx)("a",{href:(0,j.jjF)(),children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.helpPasswordLink))})}}));default:return(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerError))}};var RegisterPanel_RegisterPanel=e=>{var r,t;let{isLoading:n,registerHandler:a,socialRegisterHandler:i,returnUrl:s,onRegisterSuccess:c,isModal:d,onLoginClick:b,reverifyMember:g,initialViewState:C=em.KG.MAIN,extraParams:Z={}}=e,k=(0,O.Z)(e,eH),{formatMessage:L}=(0,_.Z)(),{query:A}=(0,u.useRouter)(),{remove:F}=(0,eI.Z)(),{refetch:M}=(0,T.Z)("cache-first",!0),{locale:U}=(0,eu.M)(),V=(0,E.S)(),G=(0,f.S)(),{loginUrl:H,registerUrl:$}=(0,D.Z)(s,Z),{0:z,1:Y}=(0,p.useState)(),{login:Q,loginError:X,loginSuccess:J,called:ee}=(0,eL.Z)(),er=null==A?void 0:A[em.lB],et=er===em.Su.SOCIAL,en=C;et&&(en=em.KG.SOCIAL_FINISH),er===em.Su.EMAIL&&(en=em.KG.EMAIL_FINISH);let{0:eo,1:ei}=(0,p.useState)(en),{sendNotification:es,closeNotification:ec}=(0,w.ZP)(),{makeAnnouncement:ef}=(0,P.Z)(),{0:ey,1:ej}=(0,p.useState)(null),{data:eO,showLoading:ev,status:e_}=useSocialMemberInfo(z,eo,et),eh=eo===em.KG.MAIN,eE=eo===em.KG.EMAIL_FINISH,eS=eo===em.KG.SOCIAL_FINISH,eR=eE||eS&&!ev,eP=eo===em.KG.REVERIFY_MEMBER,eA=eo===em.KG.ALMOST_DONE,eF=eh||eE,{needsCaptcha:eM}=useCaptcha(R.$I.Register,!eE),eU=!!(eE&&eM),[eV,eG]=useCaptchaReset(),{onCountryChange:eB,hasDuesTerms:eq,hasKISA:e$,terms:ez}=(0,eZ.YU)();(0,p.useEffect)(()=>{eq&&(0,ex.Y0)()},[eq]);let eY=(0,eW.Z)(eo,eU,ez),eQ=getA11yDescription(eo),eX=eS||eE,eJ=B.zn.registerSubmit;eS&&((null==z?void 0:z.type)===R.FR.Facebook&&(eJ=B.zn.registerFacebook),(null==z?void 0:z.type)===R.FR.Apple&&(eJ=B.zn.registerApple),(null==z?void 0:z.type)===R.FR.Google&&(eJ=B.zn.registerGoogle));let e0=(0,p.useCallback)(async(e,r,t,n)=>{let o=await i(e,r,t,n);(0,q.qz)(),o?(null==V||V.trackUserAction({kind:I.E.SIGN_UP,info:{provider:t.toLowerCase()}}),null==G||G.track({categories:["authentication","completed"],severity:l.zb.INFO,info:{method:t,type:"signup"}}),ef(L(eg.Z.registerSuccessfulAnnouncement)),M(),c()):(eG(),es(L(eg.Z.socialRegisterError),{type:w.Dy.ERROR,autoClose:!0}))},[L,es,i,ef,c,M,eG,V,G]),e1=(0,p.useCallback)(e=>{Y({token:e,type:R.FR.Facebook}),ei(em.KG.SOCIAL_FINISH)},[]),e2=(0,p.useCallback)(()=>{(0,j.mjF)((0,ep.Ht)($,!0))},[$]),e8=(0,p.useCallback)(e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),b())},[b]),{getToken:e7}=(0,eb.Z)(e1,e2);(0,p.useEffect)(()=>{er===em.Su.FACEBOOK&&(F(em.lB),e7())},[er]);let e4=(0,ew.ZP)(),e9=(0,p.useCallback)(async e=>{let r=await a(e);switch(r.message){case em.dK.REGISTER_SUCCESS:{ef(L(eg.Z.registerSuccessfulAnnouncement)),e4&&window.postMessage({EMAIL_SIGN_UP_MESSAGE:"EMAIL_SIGN_UP_MESSAGE",email:e.email,password:e["new-password"]});let t=(0,eN.Ar)(r.memberEmail);ej({memberId:r.memberId,inboxUrl:t,reverifyToken:r.reverifyToken}),null==V||V.trackUserAction({kind:I.E.SIGN_UP,info:{provider:"email",emailSignupMemberId:r.memberId}}),null==G||G.track({categories:["authentication","completed"],severity:l.zb.INFO,info:{method:"email",type:"signup"}}),ei(em.KG.ALMOST_DONE);break}case em.dK.EMAIL_ALREADY_EXISTS:{let e;eG();let r=(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},eg.Z.registerEmailAreadyExists),{},{values:{LINK:(0,W.jsx)("a",{className:"underline",href:H,onClick:r=>{ec(e),e8(r)},children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerEmailAreadyExistsLink))})}}));e=es(r,{type:w.Dy.ERROR,autoClose:!1});break}default:eG(),es(getErrorMessage(r.message),{type:w.Dy.ERROR,autoClose:!0})}},[e8,H,L,ec,a,ef,eG,es,V,G,e4]),e6=(0,p.useCallback)(()=>{ei(em.KG.EMAIL_FINISH)},[]),e5=(0,p.useCallback)(async()=>{let e=await g({reverifyToken:null==ey?void 0:ey.reverifyToken,memberId:null==ey?void 0:ey.memberId});return es(L(e?eg.Z.reverifyRequestEmailSuccess:eg.Z.reverifyRequestEmailError),{type:e?w.Dy.SUCCESS:w.Dy.ERROR,autoClose:!0}),!!e},[g,ey,es,L]);(0,p.useEffect)(()=>{let e=(0,q.YG)();null!=e&&e.token&&Y(e)},[]);let e3=(0,p.useCallback)(async e=>{var r,t;null==G||G.track({categories:["authentication","started"],severity:l.zb.INFO,info:{method:eS?null==eO?void 0:null===(r=eO.thirdPartyRegistrantInfo)||void 0===r?void 0:r.name:"email",type:"signup"}});let n=RegisterPanel_objectSpread(RegisterPanel_objectSpread({},A),Z),o=(0,y.NN)(n),a=(0,y.hX)(n),i=e4?(0,j.Lih)():(0,y.JL)(n),s=RegisterPanel_objectSpread(RegisterPanel_objectSpread({},e),{},{locale:U,groupId:o,eventId:a,returnUri:i,terms:(0,ek.Xy)(e,ez)});if(eS){null!=z&&z.token&&await e0(s,(0,q.Xg)(z,eO),null==z?void 0:z.type,null==eO?void 0:null===(t=eO.thirdPartyRegistrantInfo)||void 0===t?void 0:t.refreshToken);return}await e9(s)},[A,Z,U,ez,eS,e9,z,e0,eO,G,e4]);return(0,p.useEffect)(()=>{let runQuery=async()=>{try{var e,r;let t=z.type===R.FR.Google?null==eO?void 0:null===(e=eO.thirdPartyRegistrantInfo)||void 0===e?void 0:e.idToken:void 0;await Q(t||(null==z?void 0:z.token),z.type,null==eO?void 0:null===(r=eO.thirdPartyRegistrantInfo)||void 0===r?void 0:r.refreshToken)}catch(e){(0,q.qz)(),(0,K.q)(B.Mk.THIRD_PARTY_SERVICE_FAILURE),(0,B.bF)((0,em.Qf)(null==z?void 0:z.type,!1)),es(L(eg.Z.socialRegisterError),{type:w.Dy.ERROR,autoClose:!0}),ei(em.KG.MAIN)}};ee||e_!==o.EXISTING_USER||runQuery()},[L,eO,ee,z,e_,Q,es]),(0,p.useEffect)(()=>{J&&((0,K.q)(B.Mk.THIRD_PARTY_SERVICE_SUCCESS),(0,B.bF)((0,em.Qf)(null==z?void 0:z.type,!0)),M(),c(!0)),X&&((0,K.q)(B.Mk.THIRD_PARTY_SERVICE_FAILURE),(0,B.bF)((0,em.Qf)(null==z?void 0:z.type,!1)),(0,q.qz)(),es(L(eg.Z.socialRegisterError),{type:w.Dy.ERROR,autoClose:!0}),ei(em.KG.MAIN))},[L,c,J,X,M,null==z?void 0:z.type,es]),(0,W.jsx)(v.J9,{initialValues:{age:!1,name:null==eO?void 0:null===(r=eO.thirdPartyRegistrantInfo)||void 0===r?void 0:r.name,email:null==eO?void 0:null===(t=eO.thirdPartyRegistrantInfo)||void 0===t?void 0:t.email},onSubmit:e3,validationSchema:eY,children:e=>{var r,t,o,a,i,l,c;return(0,W.jsxs)(shared_PanelLayout,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},k),{},{className:"flex flex-col items-center",dataEventCategory:B.hf.GTM,a11yDescription:eQ,hasBackButton:eR,backButtonAriaLabel:L(eg.Z.registerBackButton),backButtonOnClick:()=>{(0,q.qz)(),et?(0,j.mjF)($):(null==e||e.resetForm(),ei(em.KG.MAIN))},isModal:d,showBg:eX,isRegister:!0,children:[(0,W.jsx)(eT,{onChange:eB}),(0,W.jsxs)(v.l0,{className:(0,m.Z)("w-full",(eE||eS)&&"pt-18 sm:pt-8",!d&&"px-6 sm:px-0"),children:[(0,W.jsxs)("div",{className:(0,m.Z)("flex flex-col",eh?"items-center":"items-start"),children:[eh&&(0,W.jsx)(N.I4,{width:48,height:48,className:"mb-2"}),!eP&&!eA&&(0,W.jsx)("h1",{className:"ds-font-title-2 mb-2 font-semibold",children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eh?eg.Z.title:eg.Z.emailSignupTitle))}),eS&&ev&&(0,W.jsx)(x.Z,{className:"mx-auto mb-8 mt-20"})]}),eR&&(0,W.jsxs)("div",{className:"mb-4 mt-8 flex w-full flex-col space-y-6",children:[(0,W.jsx)(RegisterPanel_SocialAutofill,{email:null==eO?void 0:null===(r=eO.thirdPartyRegistrantInfo)||void 0===r?void 0:r.email,name:null==eO?void 0:null===(t=eO.thirdPartyRegistrantInfo)||void 0===t?void 0:t.name}),(0,W.jsx)(el.Z,{autoFocus:!0,"aria-required":"true",id:"name","data-testid":"name",type:"text",autoComplete:"name",name:"name",label:L(eg.Z.registerNameLabel),onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,labelClassname:"ds-font-body-medium",hint:L(eg.Z.nameHint),value:(null==e?void 0:null===(o=e.values)||void 0===o?void 0:o.name)||""}),eE&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(el.Z,{"aria-required":"true",id:"email",type:"email",name:"email","data-testid":"email",placeholder:"example@email.com",inputMode:"email",label:L(eg.Z.emailLabel),className:"relative w-full",onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,hint:L(eg.Z.emailHint),value:(null==e?void 0:null===(a=e.values)||void 0===a?void 0:a.email)||""}),(0,W.jsxs)("div",{className:"relative w-full space-y-2",children:[(0,W.jsx)(ed.Z,{id:"new-password","data-testid":"new-password",autoComplete:"new-password",name:"new-password",label:L(eg.Z.registerPasswordLabel),labelContainerClassname:"xs:justify-start space-x-1 xs:items-center",onChange:null==e?void 0:e.handleChange,onBlur:null==e?void 0:e.handleBlur,labelChildren:(0,W.jsx)(eD.Z,{btnClassName:"mb-1.5",ariaLabel:L(eg.Z.passwordTooltipAriaLabel),toolTipText:L(eg.Z.passwordTooltipText),linkMessage:L(eg.Z.tooltipLinkText),linkUrl:(0,j.jjF)()})}),(0,W.jsx)(eK.Z,{password:null==e?void 0:null===(i=e.values)||void 0===i?void 0:i["new-password"]})]})]}),(0,W.jsxs)("span",{className:"my-4 flex flex-col",children:[(0,W.jsx)("label",{className:(0,m.Z)("mb-1 font-medium"),htmlFor:"location-bar-in-register",children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.locationLabel))}),(0,W.jsx)(RegisterPanel_Location,{}),(0,W.jsx)("span",{className:"mt-1 text-xs font-normal text-gray6",children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.locationHint))})]}),(0,W.jsxs)("div",{children:[(0,W.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,W.jsx)("span",{id:"age-label",className:"ds-font-body-medium",children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.ageLabel))}),(0,W.jsx)(eD.Z,{ariaLabel:L(eg.Z.ageTooltipAriaLabel),toolTipText:L(eg.Z.ageTooltipText),linkMessage:L(eg.Z.tooltipLinkText),linkUrl:(0,j.GUL)()})]}),(0,W.jsx)(RegisterPanel_Age,{inputProps:{"aria-labelledby":"age-label"}})]}),eq&&(0,W.jsx)("div",{children:(0,W.jsx)(eC.A,{terms:ez})}),eU&&(0,W.jsx)(ea,{className:"sm:pb-2",resetHash:eV}),(0,W.jsx)(S.zx,{"data-testid":"submit-email-registration",type:"submit",className:(0,m.Z)("h-12 w-full justify-center","b9z82kr"),name:"submitRegistrationButton",disabled:n,variant:S.c7.PRIMARY,"data-element-name":eJ,"data-event-label":(0,em.HA)(eo),children:n&&(0,W.jsx)(x.Z,{className:"mx-auto my-0"})||(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerBtn))}),(0,W.jsx)("p",{className:"ds-font-small text-center",children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},e$?eg.Z.termsTextKISA:eg.Z.termsText),{},{values:{TERMS_LINK:(0,W.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"text-viridian underline",href:(0,j.Kpx)(U),"data-element-name":B.zn.terms,children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.termsLink))}),PRIVACY_LINK:(0,W.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"text-viridian underline",href:e$?(0,j.gfb)():(0,j.pwX)(U),"data-element-name":B.zn.privacy,children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.privacyLink))}),COOKIES_LINK:(0,W.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"text-viridian underline",href:e$?(0,j.$VJ)():(0,j.VqQ)(U),"data-element-name":B.zn.cookies,children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.cookiesLink))})}}))})]}),eF&&(0,W.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,W.jsx)("span",{children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.registerDescription))}),(0,W.jsx)("a",{className:"text-viridian hover:no-underline",onClick:e8,href:H,"data-element-name":B.zn.logIn,children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.loginLink))})]}),eh&&(0,W.jsx)(shared_SocialSection,{onFacebookRegister:e1,isRegister:!0,returnUrl:s,extraParams:Z,onEmailRegister:e6,className:"mt-8"})]}),eP&&(0,W.jsx)(EmailNotificationIcon,{className:!d&&"px-6 sm:px-0",title:L(eg.Z.reverifyTitle),description:L(eg.Z.reverifyDescription,{userEmail:null==e?void 0:null===(l=e.values)||void 0===l?void 0:l.email}),handler:(0,W.jsx)("a",{href:"#",className:"ds-font-small mb-2 text-viridian hover:no-underline",onClick:e5,"data-element-name":B.zn.requestEmail,children:n&&(0,W.jsx)(x.Z,{})||(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.reverifyHandler))}),footer:(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},eg.Z.reverifyFooter),{},{values:{link:(0,W.jsx)("a",{target:"_blank",rel:"noreferrer",href:j.Dk8,className:"text-viridian hover:no-underline","data-element-name":B.zn.support,children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.reverifyFooterLink))})}}))}),eA&&(0,W.jsx)(EmailNotificationIcon,{className:!d&&"px-6 sm:px-0",title:L(eg.Z.verificationTitle),description:L(eg.Z.verificationDescription,{EMAIL:null==e?void 0:null===(c=e.values)||void 0===c?void 0:c.email}),handler:(null==ey?void 0:ey.inboxUrl)&&(0,W.jsx)(S.zx,{type:"button",className:"ds-font-title-3 mb-4 h-12 w-full",variant:S.c7.PRIMARY,onClick:()=>{window.open(null==ey?void 0:ey.inboxUrl,"_blank")},"data-event-label":"register-check-your-inbox",children:(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.verificationCheckBtn))}),footer:(0,W.jsx)(h.Z,RegisterPanel_objectSpread(RegisterPanel_objectSpread({},eg.Z.verificationResendText),{},{values:{VERIFICATION:(0,W.jsx)("a",{href:"#",className:"text-viridian hover:no-underline",onClick:async()=>{let e=await e5();e&&!n&&ei(em.KG.REVERIFY_MEMBER)},"data-element-name":B.zn.requestEmail,"data-event-label":"register-request-another-verification-email",children:n&&(0,W.jsx)(x.Z,{className:"mx-auto my-0",size:"xs"})||(0,W.jsx)(h.Z,RegisterPanel_objectSpread({},eg.Z.verificationResendLink))})}}))})]}))}})};t(98886);var e$=t(61439);function checkSiftVerificationCode_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function checkSiftVerificationCode_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?checkSiftVerificationCode_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):checkSiftVerificationCode_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let ez={},eY=X.Ps`
  mutation checkSiftVerificationCode($input: CheckSiftVerificationCodeInput!) {
    checkSiftVerificationCode(input: $input) {
      status
      error {
        ...Error
      }
    }
  }
  ${J.vN}
`;function login_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function login_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?login_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):login_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let eQ={},eX=X.Ps`
  mutation login($input: LoginInput!) {
    login(input: $input) {
      verificationRequired
      memberId
      reverifyToken
      error {
        ...Error
      }
    }
  }
  ${J.vN}
`;function resendVerificationCode_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function resendVerificationCode_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?resendVerificationCode_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):resendVerificationCode_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let eJ={},e0=X.Ps`
  mutation resendVerificationCode($input: ResendVerificationCodeInput) {
    resendVerificationCode(input: $input)
  }
`;function sendForgotPasswordEmail_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function sendForgotPasswordEmail_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?sendForgotPasswordEmail_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sendForgotPasswordEmail_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let e1={},e2=X.Ps`
  mutation sendForgotPasswordEmail($input: SendForgotPasswordEmailInput!) {
    sendForgotPasswordEmail(input: $input) {
      devLink
      error {
        ...Error
      }
    }
  }
  ${J.vN}
`;function useLogin_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function useLogin_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useLogin_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useLogin_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let useLogin=()=>{let{refetch:e}=(0,T.Z)("cache-first",!0),{sendNotification:r}=(0,w.ZP)(),[t,{error:n,loading:o}]=function(e){let r=login_generated_objectSpread(login_generated_objectSpread({},eQ),void 0);return e$.D(eX,r)}(),[a,{error:i,loading:s}]=function(e){let r=resendVerificationCode_generated_objectSpread(resendVerificationCode_generated_objectSpread({},eJ),void 0);return e$.D(e0,r)}(),[l,{error:c,loading:d}]=function(e){let r=checkSiftVerificationCode_generated_objectSpread(checkSiftVerificationCode_generated_objectSpread({},ez),void 0);return e$.D(eY,r)}(),[u,{error:f,loading:b,data:g}]=function(e){let r=sendForgotPasswordEmail_generated_objectSpread(sendForgotPasswordEmail_generated_objectSpread({},e1),void 0);return e$.D(e2,r)}(),m=(0,p.useCallback)(async r=>{var n,o,a,i,s;try{let l=await t({variables:{input:{email:r.email,password:r["current-password"],captchaToken:(null==r?void 0:r.captcha)||void 0,rememberMe:r.rememberMe}},context:{headers:{[F.eX]:null===(a=(0,F.pc)())||void 0===a?void 0:a.token,[M.G]:(0,M.V)()}}}),c=null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.login;if((0,V.Ro)(c))return(0,K.q)(B.Mk.SIFT_VERIFICATION_REQUIRED),{message:V.dx.SIFT_VERIFICATION_REQUIRED,memberId:null==c?void 0:c.memberId,reverifyToken:null==c?void 0:c.reverifyToken};if((0,V.YM)(c))return(0,K.q)(B.Mk.REVERIFY_REQUIRED),{message:V.dx.REVERIFY_REQUIRED,memberId:null==c?void 0:c.memberId,reverifyToken:null==c?void 0:c.reverifyToken};if((0,V.gC)(c))return e(),(0,K.q)(B.Mk.SUCCESS),(0,B.bF)(B.Mk.SUCCESS),{message:V.dx.LOGIN_SUCCESS};switch((0,K.q)(B.Mk.FAILURE),(0,B.bF)(`${B.Mk.FAILURE}-${(null==c?void 0:null===(s=c.error)||void 0===s?void 0:s.code)||V.dx.LOGIN_FAILURE}`),null==c?void 0:null===(n=c.error)||void 0===n?void 0:n.code){case V.dx.WRONG_CREDENTIALS_CODE:case V.dx.RATE_LIMIT_EXCEEDED:case V.dx.BLOCKED_IP:case V.dx.BLOCKED_MEMBER:case V.dx.PASSWORD_RESET_REQUIRED:case V.dx.BOUNCED:case V.dx.INITIAL_3RD_PARTY_REG:case V.dx.REVERIFY_ERROR_CODE:return{message:null==c?void 0:null===(o=c.error)||void 0===o?void 0:o.code};default:return{message:V.dx.LOGIN_FAILURE}}}catch(e){return(0,K.q)(B.Mk.FAILURE),(0,B.bF)(B.Mk.FAILURE),{message:V.dx.LOGIN_FAILURE}}},[t,e]),y=(0,p.useCallback)(async(e,r)=>{try{var t,n;let o=await u({variables:{input:{email:e,captchaCode:r}},context:{headers:{[F.eX]:null===(t=(0,F.pc)())||void 0===t?void 0:t.token,[M.G]:(0,M.V)()}}}),a=null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.sendForgotPasswordEmail;if(!(null!=a&&a.error))return(0,K.q)(B.Mk.FORGOT_PASSWORD_REQUEST_SUCCESS),(0,B.bF)(B.Mk.FORGOT_PASSWORD_REQUEST_SUCCESS),!0;return(0,K.q)(B.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),(0,B.bF)(B.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),!1}catch(e){return(0,K.q)(B.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),(0,B.bF)(B.Mk.FORGOT_PASSWORD_REQUEST_FAILURE),!1}},[u]),j=(0,p.useCallback)(async e=>{try{var r;let t=await a({variables:{input:{memberId:e}}});if((null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.resendVerificationCode)==="RESEND")return(0,K.q)(B.Mk.RESEND_VERIFICATION_CODE_SUCCESS),!0;return(0,K.q)(B.Mk.RESEND_VERIFICATION_CODE_FAILURE),!1}catch(e){return(0,K.q)(B.Mk.RESEND_VERIFICATION_CODE_FAILURE),!1}},[a]),O=(0,p.useCallback)(async r=>{try{var t;let n=await l({variables:{input:{memberId:r.memberId,code:r.verificationCode,reverifyToken:r.reverifyToken,rememberMe:r.rememberMe}}}),o=null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.checkSiftVerificationCode;if((null==o?void 0:o.status)==="INVALID")return(0,K.q)(B.Mk.CHECK_VERIFICATION_CODE_FAILURE),{message:V.dx.WRONG_CREDENTIALS_CODE};if((null==o?void 0:o.status)==="VALID"&&!(null!=o&&o.error))return e(),(0,K.q)(B.Mk.CHECK_VERIFICATION_CODE_SUCCESS),{message:V.dx.CHECK_VERIFICATION_CODE_SUCCESS};return(0,K.q)(B.Mk.CHECK_VERIFICATION_CODE_FAILURE),{message:V.dx.CHECK_VERIFICATION_CODE_FAILURE}}catch(e){return(0,K.q)(B.Mk.CHECK_VERIFICATION_CODE_FAILURE),{message:V.dx.CHECK_VERIFICATION_CODE_FAILURE}}},[l,e]);return(0,p.useEffect)(()=>{n&&r((0,W.jsx)(h.Z,useLogin_objectSpread({},G.Z.loginError)),{type:w.Dy.ERROR,autoClose:!0}),i&&r((0,W.jsx)(h.Z,useLogin_objectSpread({},G.Z.resendVerificationCodeError)),{type:w.Dy.ERROR,autoClose:!0}),c&&r((0,W.jsx)(h.Z,useLogin_objectSpread({},G.Z.verificationCodeError)),{type:w.Dy.ERROR,autoClose:!0})},[n,i,c,r]),(0,p.useEffect)(()=>{var e;(f||null!=g&&null!==(e=g.sendForgotPasswordEmail)&&void 0!==e&&e.error)&&r((0,W.jsx)(h.Z,useLogin_objectSpread({},G.Z.forgotPassowrdCodeError)),{type:w.Dy.ERROR,autoClose:!0})},[f,g,r]),{loading:o||s||d||b,login:m,sendForgotPassword:y,resendVerificationCode:j,checkVerificationCode:O}};function registerMemberWithEmail_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function registerMemberWithEmail_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?registerMemberWithEmail_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):registerMemberWithEmail_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let e8={},e7=X.Ps`
  mutation registerMemberWithEmail($input: MemberRegistrationWithEmailInput!) {
    registerMemberWithEmail(input: $input) {
      reverifyToken
      member {
        id
        name
        email
      }
      error {
        code
        message
      }
    }
  }
`;function registerMemberWithThirdPartyService_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function registerMemberWithThirdPartyService_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?registerMemberWithThirdPartyService_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):registerMemberWithThirdPartyService_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let e4={},e9=X.Ps`
  mutation registerMemberWithThirdPartyService(
    $input: MemberRegistrationWithThirdPartyServiceInput!
  ) {
    registerMemberWithThirdPartyService(input: $input) {
      member {
        id
        name
        email
      }
      errors {
        ...Error
      }
    }
  }
  ${J.vN}
`;function useRegister_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}let useRegister=()=>{let{sendNotification:e}=(0,w.ZP)(),[r,{error:t,loading:n}]=function(e){let r=registerMemberWithEmail_generated_objectSpread(registerMemberWithEmail_generated_objectSpread({},e8),void 0);return e$.D(e7,r)}(),[o,{error:a,loading:i}]=function(e){let r=registerMemberWithThirdPartyService_generated_objectSpread(registerMemberWithThirdPartyService_generated_objectSpread({},e4),void 0);return e$.D(e9,r)}(),l=(0,p.useCallback)(async e=>{try{var t,n,o,a,i,s;let l=await r({variables:{input:{name:e.name,password:e["new-password"],email:e.email,countryCode:e.countryCode,zipCode:e.zipCode,locale:e.locale,captchaCode:e.captcha||"",referenceGroupId:e.groupId,referenceEventId:e.eventId,returnUri:e.returnUri,terms:e.terms}},context:{headers:{[M.G]:(0,M.V)()}}}),c=null==l?void 0:null===(t=l.data)||void 0===t?void 0:t.registerMemberWithEmail;if((0,em.lX)(c))return(0,B.w4)(),(0,K.q)(B.hf.SUCCESS),(0,B.n7)(B.hf.SUCCESS),null!=e&&null!==(a=e.terms)&&void 0!==a&&a.length&&(0,ex.a$)("success",!0),{message:em.dK.REGISTER_SUCCESS,memberId:null==c?void 0:null===(i=c.member)||void 0===i?void 0:i.id,memberEmail:null==c?void 0:null===(s=c.member)||void 0===s?void 0:s.email,reverifyToken:null==c?void 0:c.reverifyToken};return(0,K.q)(B.hf.FAILURE),(0,B.n7)(`${B.hf.FAILURE}-${(null==c?void 0:null===(n=c.error)||void 0===n?void 0:n.code)||em.dK.REGISTER_FAILURE}`),(0,em.zg)(null==c?void 0:null===(o=c.error)||void 0===o?void 0:o.code)}catch(e){return(0,K.q)(B.hf.FAILURE),{message:em.dK.REGISTER_FAILURE}}},[r]),c=(0,p.useCallback)(async(e,r,t,n)=>{let a,i;t===R.FR.Facebook&&(a=B.hf.FACEBOOK_SUCCESS,i=B.hf.FACEBOOK_FAILURE),t===R.FR.Apple&&(a=B.hf.APPLE_SUCCESS,i=B.hf.APPLE_FAILURE),t===R.FR.Google&&(a=B.hf.GOOGLE_SUCCESS,i=B.hf.GOOGLE_FAILURE);try{var s,l,c;let d=await o({variables:{input:{token:r,refreshToken:n,service:t,grantType:(0,q.hl)(t,!!n),name:e.name,countryCode:e.countryCode,zipCode:e.zipCode,locale:e.locale,terms:e.terms}},context:{headers:{[M.G]:(0,M.V)()}}}),u=null==d?void 0:null===(s=d.data)||void 0===s?void 0:s.registerMemberWithThirdPartyService;if(u&&!(null!=u&&null!==(l=u.errors)&&void 0!==l&&l.length))return(0,B.w4)(),(0,K.q)(a),(0,B.n7)(a),null!=e&&null!==(c=e.terms)&&void 0!==c&&c.length&&(0,ex.a$)("success",!0),!0;return(0,K.q)(i),(0,B.n7)(i),!1}catch(e){return(0,K.q)(i),(0,B.n7)(i),!1}},[o]);return(0,p.useEffect)(()=>{(t||a)&&e((0,W.jsx)(h.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useRegister_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useRegister_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},eg.Z.registerError)),{type:w.Dy.ERROR,autoClose:!0})},[t,a,e]),{register:l,socialRegister:c,loading:i||n}};function reverifyMember_generated_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function reverifyMember_generated_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?reverifyMember_generated_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):reverifyMember_generated_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let e6={},e5=X.Ps`
  mutation reverifyMember($input: ReverifyMemberInput!) {
    reverifyMember(input: $input) {
      error {
        ...Error
      }
    }
  }
  ${J.vN}
`;function useVerify_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var hooks_useVerify=e=>{let{sendNotification:r}=(0,w.ZP)(),[t,{error:n,loading:o}]=function(e){let r=reverifyMember_generated_objectSpread(reverifyMember_generated_objectSpread({},e6),void 0);return e$.D(e5,r)}();(0,p.useEffect)(()=>{n&&r((0,W.jsx)(h.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useVerify_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useVerify_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},e?eg.Z.reverifyRequestEmailError:G.Z.reverifyRequestEmailError)),{type:w.Dy.ERROR,autoClose:!0})},[n,e,r]);let a=(0,p.useCallback)(async r=>{try{var n,o;let a=await t({variables:{input:{reverifyToken:r.reverifyToken,memberId:Number(r.memberId),emailRedirectTo:""}}});if(!(null!=a&&null!==(n=a.data)&&void 0!==n&&null!==(o=n.reverifyMember)&&void 0!==o&&o.error))return(0,K.q)(e?B.hf.REVERIFY_REQUEST_EMAIL_AGAIN_SUCCESS:B.Mk.REVERIFY_REQUEST_EMAIL_AGAIN_SUCCESS),!0;return(0,K.q)(e?B.hf.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE:B.Mk.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE),!1}catch(r){return(0,K.q)(e?B.hf.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE:B.Mk.REVERIFY_REQUEST_EMAIL_AGAIN_FAILURE),!1}},[t,e]);return{loading:o,reverifyMember:a}};function AuthContainer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function AuthContainer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AuthContainer_ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AuthContainer_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let e3=484;function AuthContainer(e){let{isModal:r,onLoginSuccess:t,onRegisterSuccess:n,isOpen:o,onClose:a,initialState:i,onAuthModalToggleView:s,queryParams:c}=e,{query:O,asPath:v}=(0,u.useRouter)(),_=AuthContainer_objectSpread(AuthContainer_objectSpread({},O),c),h=i===q.f7.REGISTER,E=i===q.f7.FORGOT_PASSWORD,{loading:S,login:R,sendForgotPassword:P,resendVerificationCode:w,checkVerificationCode:I}=useLogin(),{register:C,socialRegister:x,loading:Z}=useRegister(),{facebookLogin:k,loading:N}=hooks_useFacebook(),{reverifyMember:L,loading:A}=hooks_useVerify(h),T=(0,V.S7)(`${(0,y.JL)(_)||(r?`${j.mCZ}${v}`:(0,j.cdl)())}`),F=(0,q.sh)(AuthContainer_objectSpread(AuthContainer_objectSpread({},_),{},{[y.R9]:T})),{registerUrl:M,loginUrl:K}=(0,D.Z)(T,c),U=(0,p.useMemo)(()=>d()(e=>function(){let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e===q.f7.REGISTER&&!o&&F){(0,V.d8)((0,j.bjX)(T,c),j.irs);return}r?((e===q.f7.LOGIN||e===q.f7.REGISTER&&o)&&(null==t||t()),e===q.f7.REGISTER&&(null==n||n())):e!==q.f7.REGISTER&&(0,q.A_)(T)?(0,V.d8)((0,j.cdl)(),j.irs):(0,V.d8)(T,j.irs)}),[r,T,t,n,c,F]),G=(0,p.useCallback)(()=>{r?s():(0,j.irs)(h?K:M)},[h,r,K,M,s]),B=(0,f.S)();(0,p.useEffect)(()=>{null==B||B.track({categories:["authentication","page_displayed"],severity:l.zb.INFO,info:{}})},[B]);let H=h?(0,W.jsx)(RegisterPanel_RegisterPanel,{returnUrl:T,registerHandler:C,socialRegisterHandler:x,isLoading:Z||A,onRegisterSuccess:U(q.f7.REGISTER),isModal:r,reverifyMember:L,onLoginClick:G,extraParams:c}):(0,W.jsx)(LoginPanel_LoginPanel,{returnUrl:T,loginHandler:R,forgotPasswordHandler:P,facebookLoginHandler:k,isLoading:S||N||A,resendVerificationCodeHandler:w,checkVerificationCodeHandler:I,onLoginSuccess:U(q.f7.LOGIN),isModal:r,reverifyMember:L,onRegisterClick:G,extraParams:c,disableBackButton:E,initialView:E?V.f7.FORGOT_PASSWORD:void 0});return(0,W.jsx)("div",{className:"flex flex-grow flex-col items-center",children:r?(0,W.jsx)(b.default,{isOpen:o,onClose:a,dataEventLabel:h?"Register modal":"Login modal",closeBtnDataEventLabel:h?"register-close-modal":"login-close-modal",className:(0,m.Z)("pl-0 pr-0 sm:pl-10 sm:pr-10","a27i9ef"),children:(0,W.jsx)("div",{className:"flex flex-col items-center px-6 sm:px-0",children:H})}):(0,W.jsx)(g.Z,{noPadding:h,className:(0,m.Z)("mb-16 mt-4 flex w-full flex-col items-center sm:mt-10"),children:(0,W.jsx)("div",{className:(0,m.Z)("relative flex w-full flex-col items-center sm:rounded-lg sm:border sm:border-gray2 sm:p-8 sm:pb-15","d1jywajc"),children:H})})})}var re=AuthContainer;t(82273)},83804:function(e,r,t){"use strict";let n,o;t.d(r,{Ro:function(){return isSiftVerificationRequired},S7:function(){return getReturnUrl},YM:function(){return isEmailVerificationRequired},d8:function(){return changeCurrentUrl},dx:function(){return n},e$:function(){return getErrorMessage},f7:function(){return o},gC:function(){return isLoginSuccessful}});var a,i,s=t(19278),l=t(80417),c=t(50542),d=t(45885),u=t(91857),p=t(95904),f=t(11527);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}(a=n||(n={})).LOGIN_SUCCESS="login-succeeded",a.SIFT_VERIFICATION_REQUIRED="login-sift-verification-required",a.CHECK_VERIFICATION_CODE_SUCCESS="login-check-verification-code-succeeded",a.CHECK_VERIFICATION_CODE_FAILURE="login-check-verification-code-failed",a.REVERIFY_REQUIRED="login-reverify-required",a.LOGIN_FAILURE="login-failed",a.SIFT_VERIFY_ERROR_CODE="member_sift_verify_error",a.REVERIFY_ERROR_CODE="member_sent_reverify_email_error",a.WRONG_CREDENTIALS_CODE="member_wrong_credentials_error",a.RATE_LIMIT_EXCEEDED="member_login_fails_ip_error",a.BLOCKED_IP="member_blocked_ip_error",a.BLOCKED_MEMBER="blocked_member_error",a.PASSWORD_RESET_REQUIRED="member_password_reset_required_error",a.BOUNCED="member_bounced_error",a.INITIAL_3RD_PARTY_REG="member_registered_by_third_party_error",(i=o||(o={})).LOGIN="LOGIN",i.FORGOT_PASSWORD="FORGOT_PASSWORD",i.SIFT_VERIFICATION="SIFT_VERIFICATION",i.REVERIFY_MEMBER="REVERIFY_MEMBER",i.FORGOT_PASSWORD_SUCCESS="FORGOT_PASSWORD_SUCCESS";let changeCurrentUrl=(e,r)=>{r(e&&"string"==typeof e&&(0,d.En)(e)?e:(0,c.cdl)())},getReturnUrl=e=>{try{return["","/"].includes(new URL(e).pathname)?(0,c.cdl)():e}catch(e){return(0,c.cdl)()}},isSiftVerificationRequired=e=>{var r;return(null==e?void 0:e.verificationRequired)&&(null==e?void 0:e.memberId)&&(null==e?void 0:e.memberId)!=="0"&&(null==e?void 0:e.reverifyToken)&&(null==e?void 0:null===(r=e.error)||void 0===r?void 0:r.code)===n.SIFT_VERIFY_ERROR_CODE},isEmailVerificationRequired=e=>{var r;return(null==e?void 0:e.memberId)&&(null==e?void 0:e.memberId)!=="0"&&(null==e?void 0:e.reverifyToken)&&(null==e?void 0:null===(r=e.error)||void 0===r?void 0:r.code)===n.REVERIFY_ERROR_CODE},isLoginSuccessful=e=>e&&!(null!=e&&e.error),getErrorMessage=(e,r)=>{switch(e){case n.WRONG_CREDENTIALS_CODE:return(0,f.jsx)(l.Z,_objectSpread({},u.Z.loginValidationError));case n.RATE_LIMIT_EXCEEDED:case n.BLOCKED_IP:return(0,f.jsx)(l.Z,_objectSpread({},u.Z.loginRateLimitError));case n.BLOCKED_MEMBER:return(0,f.jsx)(l.Z,_objectSpread(_objectSpread({},u.Z.loginBlockedMemberError),{},{values:{helpLink:(0,f.jsx)("a",{href:(0,c.dhN)(),className:"ds-font-body-medium underline hover:no-underline","data-element-name":p.Nh.disabledAccount,children:(0,f.jsx)(l.Z,_objectSpread({},u.Z.helpCenter))})}}));case n.BOUNCED:return(0,f.jsx)(l.Z,_objectSpread(_objectSpread({},u.Z.loginBouncedError),{},{values:{helpLink:(0,f.jsx)("a",{href:(0,c.tBC)(),className:"ds-font-body-medium underline hover:no-underline","data-element-name":p.Nh.supportTicket,children:(0,f.jsx)(l.Z,_objectSpread({},u.Z.submitRequest))})}}));case n.PASSWORD_RESET_REQUIRED:return(0,f.jsx)(l.Z,_objectSpread(_objectSpread({},u.Z.loginPasswordResetError),{},{values:{forgotPasswordLink:(0,f.jsx)("a",{onClick:r,href:(0,c.TtQ)(),className:"ds-font-body-medium underline hover:no-underline","data-element-name":p.Nh.forgotPassword,children:(0,f.jsx)(l.Z,_objectSpread({},u.Z.here))})}}));case n.REVERIFY_ERROR_CODE:return(0,f.jsx)(l.Z,_objectSpread({},u.Z.reverifyError));case n.INITIAL_3RD_PARTY_REG:return(0,f.jsx)(l.Z,_objectSpread(_objectSpread({},u.Z.initial3rdPartyError),{},{values:{LINK:(0,f.jsx)("a",{onClick:r,href:(0,c.TtQ)(),className:"ds-font-body-medium underline hover:no-underline","data-element-name":p.Nh.forgotPassword,children:(0,f.jsx)(l.Z,_objectSpread({},u.Z.initial3rdPartyErrorLink))})}}));default:return(0,f.jsx)(l.Z,_objectSpread({},u.Z.loginError))}}},59725:function(e,r,t){"use strict";var n=t(19278),o=t(50959),a=t(80417),i=t(49516),s=t(79161),l=t(52358),c=t(11527);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}r.Z=(e,r)=>{let{sendNotification:t}=(0,i.ZP)(),{0:d,1:u}=(0,o.useState)(!1),p=(0,o.useCallback)(()=>{t((0,c.jsx)(a.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,n.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},s.Z.socialLoginError)),{type:i.Dy.ERROR,autoClose:!0})},[t]),f=(0,o.useCallback)(async()=>{try{if(d)return;u(!0),await (0,l.u)(),FB.login(t=>{if((null==t?void 0:t.status)==="connected"){var n;null==e||e(null==t?void 0:null===(n=t.authResponse)||void 0===n?void 0:n.accessToken)}else(null==t?void 0:t.status)!=="unknown"&&(r?r():p())},{scope:"email,user_friends",auth_type:"reauthorize"}),u(!1)}catch(e){r?r():p(),u(!1)}},[d,e,p,r]);return{getToken:f,fbProgress:d}}},20747:function(e,r,t){"use strict";var n=t(50959),o=t(41988),a=t(31687),i=t(89379),s=t(92618),l=t(17089);r.Z=()=>{var e,r;let[t,{error:c,data:d,called:u}]=(0,o.G)(),p=c||(null==d?void 0:null===(e=d.loginWithThirdPartyService)||void 0===e?void 0:e.error),f=!!(u&&d&&!c&&!(null!=d&&null!==(r=d.loginWithThirdPartyService)&&void 0!==r&&r.error)),b=(0,n.useCallback)((e,r,n)=>{var o;t({variables:{input:{token:e,refreshToken:n,grantType:(0,l.hl)(r,!!n),service:r}},context:{headers:{[a.eX]:null===(o=(0,a.pc)())||void 0===o?void 0:o.token,[i.G]:(0,i.V)()},uri:s.M}})},[t]);return{login:b,loginError:p,loginSuccess:f,called:u}}},89379:function(e,r,t){"use strict";t.d(r,{G:function(){return o},V:function(){return getTrackingRequestId}});var n=t(42296);let o="X-Tracking-Request-Id",getTrackingRequestId=()=>(0,n.Z)()},45885:function(e,r,t){"use strict";t.d(r,{En:function(){return getIsValidUrl},Zi:function(){return getIsAbsoluteUrl},jv:function(){return isValidUrl},lQ:function(){return n}});let n=/^(https?:\/\/)?([\w\d-_]+)\.([\w\d-_.]+)\/?\??([^#\n\r]*)?#?([^\n\r]*)/i,getIsValidUrl=e=>!!e.match(n),getIsAbsoluteUrl=e=>null==e?void 0:e.startsWith("http"),isValidUrl=e=>{try{return new URL(e),!0}catch(e){return!1}}},82273:function(e){e.exports={a27i9ef:"a27i9ef",d1jywajc:"d1jywajc"}},30882:function(e){e.exports={c1jwr8t4:"c1jwr8t4",b1drjh0:"b1drjh0"}},79337:function(e){e.exports={c1akf99s:"c1akf99s"}},1986:function(e){e.exports={sq0xflc:"sq0xflc"}},98886:function(e){e.exports={b9z82kr:"b9z82kr"}},37807:function(e){e.exports={dljoyr2:"dljoyr2"}},43044:function(e){e.exports={sbdsy28:"sbdsy28"}},53921:function(e){e.exports={c1g28vq9:"c1g28vq9"}}}]);